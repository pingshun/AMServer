<% include header.html %>
<div class="container-fluid" ng-controller="ResetPasswordController">
    <div ng-show="!show_reset_form && failed_message">{{failed_message}}</div>
    <form class="form-horizontal" method="post" ng-show="show_reset_form">
        <fieldset>
            <legend>密码重置</legend>
            <div class="control-group">
                <label class="control-label">用户名: {{name}}</label>
            </div>
            <div class="control-group">
                <label class="control-label" for="password">新密码</label>
                <div class="controls">
                    <input type="password" class="input-xlarge" id="password" name="password" ng-model="password" ng-change="pw_changed()">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="password_retype">重新输入</label>
                <div class="controls">
                    <input type="password" class="input-xlarge" id="password_retype" name="password_retype" ng-model="password_retype" ng-change="pw_changed()">
                    <span style="color:red" ng-show="!pw_matched">
                        密码不匹配
                    </span>
                </div>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn btn-primary" ng-click="reset()">重置</button>
            </div>
        </fieldset>
    </form>
</div>
<% include footer.html %>